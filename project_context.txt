# Project Context: Monday.com Stock Options Tax Calculator

## Current State
```json
{
    "project_type": "web_application",
    "main_file": "monday_tax_calculator.html",
    "current_features": {
        "tax_calculation": {
            "income_tax_rate": 0.62,
            "capital_gains_rate": 0.25,
            "thirty_day_price": 104.17
        },
        "api_integration": {
            "provider": "Alpha Vantage",
            "api_key": "A8SCCTROEI5E10DI",
            "fallback_price": 298.96
        },
        "ui_components": {
            "color_scheme": {
                "primary": "#6C6CFF",
                "secondary": "#00CA72",
                "blue": "#0073EA",
                "red": "#E44258",
                "yellow": "#FFCB00",
                "dark": "#181B34",
                "gray": "#323338",
                "light_gray": "#F6F7FB",
                "border": "#E6E9EF",
                "white": "#FFFFFF"
            },
            "font": "Figtree",
            "features": [
                "real-time stock price",
                "USD/NIS conversion",
                "tax breakdown",
                "stock quantity input",
                "auto calculations",
                "1-minute refresh"
            ]
        }
    },
    "dependencies": {
        "external": [
            "Chart.js (pending implementation)"
        ]
    }
}
```

## Development History
```yaml
initial_setup:
  - Single-file HTML calculator
  - Embedded CSS/JavaScript
  - Basic tax calculations from Excel
  - 30-day price set to $104.17

api_integration:
  - Started with Yahoo Finance (failed: ERR_BLOCKED_BY_CLIENT)
  - Switched to Alpha Vantage
  - Added error handling and loading states
  - Implemented fallback price ($298.96)

ui_updates:
  - Implemented Monday.com color palette
  - Enhanced typography with Figtree font
  - Added modern UI elements
  - Improved error states
  - Added loading indicators

pending_features:
  - Stock price history graph
  - Chart.js integration
```

## Technical Requirements
```yaml
functionality:
  - Real-time stock price updates
  - Tax calculations (62% income, 25% capital gains)
  - Currency conversion (USD/NIS)
  - Error handling for API failures
  - Loading states
  - Responsive design

api_endpoints:
  stock_price: "https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=MNDY&apikey=A8SCCTROEI5E10DI"
  price_history: "https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol=MNDY&apikey=A8SCCTROEI5E10DI"

error_handling:
  - API rate limiting
  - Network failures
  - Invalid data responses
```

## Next Steps
1. Implement stock price history graph using Chart.js
2. Add interactive graph controls
3. Enhance error handling for API rate limits
4. Optimize API calls to prevent rate limiting
5. Add data caching for better performance

## Notes
- Application should maintain Monday.com's design language
- Focus on user experience and error feedback
- Keep performance in mind with API calls
- Maintain clean, modular code structure

## File Versioning Rules
- The main working file is `mndy_calculator.html`.
- A backup copy file (e.g., `mndy_calculator_copy.html`) is maintained in the project directory.
- All development and edits are performed on `mndy_calculator.html` only.
- When the command "commit" is given, the current contents of `mndy_calculator.html` are copied into `mndy_calculator_copy.html`, overwriting the previous copy.
- This mechanism simulates a simple version control workflow for the HTML file, allowing you to manually snapshot your progress.